<mat-toolbar class="top-bar">
  <div class="spacer"></div>
  <div class="logo">Goldblat Diamonds</div>
  <div class="spacer"></div>

  <div class="icons" *ngIf="user; else guest">
    <!-- כפתור איש עם Tooltip -->
    <div class="tooltip-container" style="position: relative; display: inline-block;"
         (mouseenter)="showTooltip = true" 
         (mouseleave)="showTooltip = false">
      <button mat-icon-button class="person-button" [matMenuTriggerFor]="accountMenu" aria-label="Account">
        <mat-icon>person</mat-icon>
      </button>
      <app-tooltip [text]="  'My Account' " 
                   [isShown]="showTooltip" 
                   [position]="'below'">
      </app-tooltip>
    </div>

    <!-- כפתור עגלה עם Tooltip -->
    <div class="tooltip-container" style="position: relative; display: inline-block;"
         (mouseenter)="showCartTooltip = true" 
         (mouseleave)="showCartTooltip = false">
      <button mat-icon-button class="cart-button" routerLink="/cart" aria-label="Cart">
        <mat-icon>shopping_cart</mat-icon>
      </button>
      <app-tooltip [text]="'My Cart'" 
                   [isShown]="showCartTooltip" 
                   [position]="'below'">
      </app-tooltip>
    </div>
  </div>

  <ng-template #guest>
    <div class="icons">
      <div class="tooltip-container" style="position: relative; display: inline-block;"
           (mouseenter)="showTooltip = true" 
           (mouseleave)="showTooltip = false">
        <button mat-icon-button class="person-button" routerLink="/login" aria-label="Login">
          <mat-icon>person</mat-icon>
        </button>
        <app-tooltip [text]="'Login/Register'" 
                     [isShown]="showTooltip" 
                     [position]="'below'">
        </app-tooltip>
      </div>
      <div class="tooltip-container" style="position: relative; display: inline-block;"
           (mouseenter)="showCartTooltip = true" 
           (mouseleave)="showCartTooltip = false">
        <button mat-icon-button class="cart-button" routerLink="/cart" aria-label="Cart">
          <mat-icon>shopping_cart</mat-icon>
        </button>
        <app-tooltip [text]="'My Cart'" 
                     [isShown]="showCartTooltip" 
                     [position]="'below'">
        </app-tooltip>
      </div>
    </div>
  </ng-template>
</mat-toolbar>

<!-- תפריט המשתמש -->
<mat-menu #accountMenu="matMenu">
  <button mat-menu-item routerLink="/my-account">My Account</button>
  <button mat-menu-item routerLink="/order-history">My Orders</button>
  <button mat-menu-item (click)="onLogout()">Logout</button>
</mat-menu>

<nav class="main-nav">
  <div class="dropdown">
    <button mat-icon-button class="dropbtn">Jewelry</button>
    <div class="dropdown-content">
      <a [routerLink]="['/category', 'rings']">Rings</a>
      <a [routerLink]="['/category', 'earrings']">Earrings</a>
      <a [routerLink]="['/category', 'bracelets']">Bracelets</a>
      <a [routerLink]="['/category', 'necklaces']">Necklaces</a>
    </div>
  </div>
  <a class="nav-link" routerLink="/category/diamonds">Diamonds</a>
  <a class="nav-link" routerLink="/category/engagement">Engagement</a>
  <a class="nav-link" routerLink="/about-us">About Us</a>
</nav>